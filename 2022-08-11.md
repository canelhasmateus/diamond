# 2022-08-11

Good evening, Ana!

I'm Mateus, and currently in the process of developing a integration for Casa Rio Verde , and during this process, some questions arised - Would you be so kind as to provide me some clarifications?

1. Is there a sandbox or test API?

2. Stephano, from Casa Rio Verde, mentioned that the current operation relies on uploading a spreadsheets. Does the published endpoints provide the same functionality, or are there any  differences i should watch for?

3. In regards to the `quotes` endpoint ( Focusing on `scheduled` only for now ):

As far as i understand, a single delivery may return multiple quotes, found in the `slots` array.

When quoting multiple deliveries, is there any way to know for which delivery a particular quote is for? Currently, i'm doing this lookup based on the address of the receiver.

As far as i understand, however, its possible to have two different deliveries headed towards the same address, and in these ( admittedly, rare ) cases, i'd be unable to properly assign the quotes to their respective deliveries.

Is there any way for us to sidestep this problem?

From my point of view, the ideal solution would be: In the request, add a unique `referenceID` to each of the sent `deliveries` ( The same as in the `v1/deliveries` endpoint).
In the response, the backend would add the same `referenceID` in each corresponding `quote`.

Of course, this is just one possible solution, and i'd be happy to discuss further.

4. In regards to the `Package` entity.

How is the `size`classification done? Given the measurement of the package ( lenght, width , height) , how to classify it in the [xs, s, m , l xl] scale?  The `entity` section prompts me to refer to the size table, but i was able to find it.

Should i send an string or a number? some examples in the postman collection seem to use a number size, e.g "Metadata and Tags"

Which unit is used for the `weight` field?
Which currency should i use for the `price` field?

5. In regards to the `Location` entity:

there exists fields  such as `cityID` and `warehouseId`. Where would i be able to find those?
The documentation mentioned looking at the dash app - Is this functionality exposed through any endpoints?

What is the difference between the fields `address` , `originalAddress` and `sortAddress`?


6. In regards to the `Delivery` entity:

what is the `ShipmentType` field mentioned in examples such as "Without Geo Locations"? 

what is the `index` field mentioned in the "Using extra data" example? 

what is the `status` field mentioned in the "Using extra data" example? From my current understanding , i shouldn't be the one sending this?

What is the `extraData` field mention in "Using extra data" example? How is it different from the metadata field?




1. In regards to the `DeliveryRequest` entity:

What does the `flexible` field stand for? The same goes for `groupID`
How is the `validateReferenceId` field used?
How can i use `Source` field? is it a enumeration, or should i use free-text?

How does `treatAsPostpaid` differ from the `cod` field inside the `Request` entity?


there exists a field `type`, which refer to the type of delivery [ "express" , "flex", "slot" ].

In the event that i have multiple deliveries with varying types, am i correct to assume i'd make a request for each different type?

8. is there a difference between `v1/deliveries/{:id}/complete` and `v1/deliveries/{:id}/detail`?

The docs mention using the first endpoint, but the postman collection seems to use the second one.


9. My client mentioned something about `routeID` , and it being important to him.

This information doesn't seem to be returned on the creation of the delivery, but I see that it is returned on the `v1/deliveries/{:id}/complete`, however.

Am i correct to assume that i should call this second endpoint?  

Is there a way to batch request this information? fetching one by one isn't a problem, but it might be more efficent for you to do it in batches.
