
Aws Cloud
    REgions
        . Very Large Geographical Area
        . Many Datacenters, called an Availability Zone
        AZ
        Local Zones:
            Not all applications can tolerate latency. Thats what Local Zones are for.
            Inside a region, they extend the region to your geographic metro-area network 
            ( Opt-in to a local zone. Inside it you can create your vpc and resources )
        Edge Locations

    


Local Zone
    . Enable Local Zone
    . Extend your VPC to the local zone
    . Build and Run Low-Latency applications

    . Use for edge computing

Edge Locations
    . Access cloudfront


"
A local zone is where you place your computers ( designed for computing ).
A Edge Locations is where you access your CDN.
"




VPC
    . A Virtualized Datacenter.



Types of CLoud ARch
    Private CLoud
        . Running Independently
        . OpenStack Ansible 
        .. You have the benefits of the cloud inside your own data center
        .. You gotta manage your own cloud

    Hybrid Cloud
        . Data Center + cloud
        . Ideal for migratoin
        . great for permance
        . good for Disaster Recovery
        ..  Data Center > AWS Direct Connect > Customer VPC Gateway > Cloud VPC.
    
    Pure Cloud
        . Great for startups
        . Highly scalable
        . Very agile
        .. Organization > AWS Direct Connect > Customer VPC  > VPC
    Public CLoud
    
Why extend private cloud to the public?
    . Our data center cannot handle peak loads such as christmas
    . Offload some of those things
    . Then you have a hybrid cloud.

Public cloud:
    . Everything inside a provider ( GCP , AWS , Azure  , ... )


OSI Model
    Every Network provider uses the same system, which helps troubleshooting.

    Layers
        1 - Physical Layer ( Electrons / Photons over copper / Optical ) - Bits 
        2 - Datalink ( Hardware : Network cards , Addresses ) - Frames
        3 - Network  ( Logical Address : Ip Address ) - Packets
        4 - Transport ( Protocol Selectrion : TCP , UDP) - Segments 
        ## Networking ends here 
        5 - Session ( Controls Connection : Sockets ) - Data
        6 - Presentation ( Presentation and Data : TLS ) - Data 
        7 - Application ( User Interface : HTTP , DNS , SSH ) - Data
    
    Ip Address:
        Needed for every device that wants to communicate in an network.

        IPV4 / IPV6 : Mostly PCs vs Mostly Mobiles
            . IPV4  have very few addresses. Which is why private ip addresses were created. 
            They occur at the 10.0.0/8 ;  140~172.0.0.0/16; 192.168.0.0/16 
                > Not Routable. Can use internally but not externally
        We used to have a idea of these Class address.
            A: Each subnet would handle 16M.
            B: 65k hosts
            C: 253 hosts
            D: Multicast reserved
            
Subnetting:
    Breaking down networks into smaller ones or group smaller network
    CIDR: We can't make inefficient use of ip addresses because they're few.
    AWS only have 100 routes.
AWS takes 5 addresses for each subnet ( instead of 2 that every else would do.)
    . You might run out of ip addresses when designing small networks when using autoscaling

    
What if we wanted  to create greater subnets (aggregating small ones) ? 
    This is called supernetting
    Can be used to do network summarization
        Good to create smaller routes
    

IPV4: 32bit.
IPV6: 128bit  -> All interfaces in AWS are automatically assigned an ipv6 global address.



Connectivity
    Over the Internet with a VPN
        Providing a private network over  a public network
        Why
            Internet is not secure.
                . You'll get hacked
            Take care of routing
                . 
            Internet routing is *very* complex
                . 
            Can't take Private ip addresses and connect them via public internet . They are non-routable.
        Why not?
            VPN's depend on the internet.
                Internet is not consistent ( Best Effort Connectivity).
        Tools
            . Frame Relay
            . GRE Tunnels
            . BGP
            * IPSEc
                . Encrypts the data
                . Provides authentication of users on both sides.
                    .. Ok to give critical information to authorized people.
                . Ensure messages have not been modified ( Message Integrity ).
                . Non-Repitiation ( Senders can't say they didn't send the message )
                . So valuable that you can use them in public connections.
            Logical
                Data Center > VPN ( IPSEC ) > Cloud
        
    Pseudo-Wire to the cloud
        

WHen you set a vpn between your data center and your vpc, its usually a site-to-site vpn.
There also exists a Multi-Site VPN.
    Both sites terminate the vpn connection

    Can use Dynamic or Static routing.

AWS says their vpns are Highly Available.
    They're using a virtual router with somewhat redundancy.
        . If the router in YOUR end fails, everything fails.
        . Still a single point of failure
        Recommended by AWS:
            Set up one active and one passive.
    
    When using Multiple Links:
        You must always have at least 2. And 3 is better than 2.
        You can Load Share.
            What if we decide to do it?
                use BGP tunning.
                    Set a most specific route in one, and a most specific and other, send a summary route to both.

        
    

    Not good enough.
    



VPN in cloud 
    Determine the aws virtugla Gateway
    Take your method   ( Static / BGP )
    Choose your tunnels ( default or custom )
    VPN Concentrator via market place

Remote Access VPN
    Market Placefssqq
    

What if We use a Multi-Site  vpn connection?
    AWS assumes you do not have the knowledge to control transitive networks
    You can link everyone with everyone else ( Very Inelegant, O[ N * ( N - 1 ) ] )
    Need to use another solution: Cloud Hub.



Internet is not a given
    . Use Direct Connection ( Garanteed bandwitdh )
    . Options ( 1gbps , 10gpbs, 100gbps )

    . Can Also do Link Aggregation
        . Take Multiple Links in a bundle, so they feel like a single link.
        . Take 4 10gbps and have a 40gbps.



Direct Connect 
    Point of presence
        Cross Connect: Cable from your router to the aws switch ( Layer 2 ) . 
]
Above 100m:
    Cant use copper. Need fiber. 
    
    Multi Mode Fiber ( Long )

Bidirectional Link Location 
    If either side gets termination, the connection gets down ; so you have a direct connection or vpn backup.



    On Prem                                                                 AWS Account
            Wan     -> Direct COnnection Location  ->  aws backbone     ->
            Wan    -> Direct Connect Localtion ->       aws backbone    ->



What if we do not need all the bandwitdh?
    . Direct Connection Partner: Rate Limit

While Connecting, you need VLAN 802.1q Tags 


Virtual Lan :
    Take a switch and you chop it up.
    If it has 100 ports, take the first 25 into vlan A , the next 25 into vlan b
    Why?
        Segregate Traffic as much as possible. 
    802.1q Tags makes it so you can connect between switches using 1 cable while  maintaining vlan segregation



Private Virtual Interaface
    . You can connect here when using direct connect.
    . Need to use BGP ( Only 100 routes )
Public Virtual Interface  
    .  To connect here, you need ipv4 on both sides.

direct connect gateway

    What if we need to combine private virtual interfaces with mutual virtual gateways
        . use my direct connection to connect with my vpcs in other regions ; 

        On Prem                             Direct Connect Location
                                        
                AWS Direct Connect =>           Customer Routers
                                                    |   
                                    AWS Direct Connect Routers      =>      Private Virtual Interface           EU-WEST-1
                                                                                | => Direct Connect Gateway =< 
                                                                                                                EU-EAST-1  


High Availability Connections
    Redudancy
        . One is None
        . Two is One
        . Three is greater than two

    The average customer would be better of with a direct connection primary and a vpn backup ( Cost efficiency )

    If performance is of the matter
        . On Prem would have multiple routers, 
            each one would connect to a different direct connect location, on a different ISP
        . Can load share between these connections ( using BGP ) . 
            Make one network preferred on one router, and another on another router.
        . Link Aggregation Group 
            Bundle up to 4 links:




Storage on the cloud.
    What is storage
        Where a organization keep its data
            . Volatile
                Something that goes away when you reboot. Storage that is attached to your instance: 
                When your instance is terminated, you lose all of this data. 

            . Non-Volatile
                Survives a reboot. Hard disk.

    Block Storage
        .  Network attached. So your network becomes a bottleneck.
        . Breaks data into blocks
        . Can be placed wherever it makes more sense, such as attached directly to an instance. 
        . Can save whatever, such as operating systems, frequently changed files.

    Object storage
        . Another type of storage. 
        . Breaks data into objects
        . An object has an unique id, and metadata. 
        . Metadata enables interesting things, such Can create a data lake, run sql queries, integrate into environemnts
        . Not too fast, compared to other 
        . Absolutely Terrible for files that change quickly
            .. Everytime you modify a file, we create a new version, which means more space, which means more costs.

    File storage
        . In your computer, we have a hard drive. Into it we put files. 
        . Think 'Drives' 



    S3
        . Object Storage in S3
        . Reasonably High-Availability ( 99.9%, which means 53 minutes downtime a year)
        . Very High Durability ( 11 nines. )
        . Use cases
            . Archival
            . Static Website Hosting
            . Content Distribution , Large videos, software midia
            . Disaster Recovery Content
            . Big data analytics
        . Organized into buckets
            . Each bucket has a full dns namespace.
            . bucket names can up to 63 characters
            . using delimiters ( '/' ) , makes it feel like a directory. Still very flat.
        . Need to secure your data.
            . In each bucket, we can put bucket policies, which is an extremely granular way of doing control.
            . Encryption
            . Storage Tiers 
                . Standard
                . Infrequent Access - Standard
                    .. Cheaper than standard. You pay for access.
                . Infrequent Access - 1 zone
                    .. Same as above, but with reduced availability. 
                . Intelligent Tiering
                    .. Automated Service. Aws monitors the data, and migrate to the appropriate type of storage. 
                    .. Cost optimization is managed by aws.
                . Glacier
                    .. Really low costs
                    .. Get access by paying for it when you needed
                    .. Not immediately available,  generally 5 hours of waiting
                    .. Can by to expedite retrieval
        . Lifecycle Management
            . Enables Cost Optimizationm
            . Configured by user defined policy
            . Amazon S3             Amazon S3-IA            Amazon Glacier
                        - 30 days ->            - 30 days -> 
        . Versioning
            . Modifying the document creates a new version
        . Authentication Delete
            . MFA authentication delete.

        . Not Traditional Storage ( Very Flat )
        . Encryption
            . SSE-KMS
            . SSE-S3 ( AWS Managed )
            . SSE-C ( Customer Provided - Complete Autonomy )
        . Tuning S3
            . Presign URL
                .. Everything in S3 is private. 
                .. Temporary and secure access.
                .. Duration is based on the way you set it.
                    ... IAM Instance Profile gets up to 6 hours.
                    ... AWS Security Token Service gets up to 36 hours
                    ... IAM Users lasts for up to 7
                    ... Temporary token lasts up to the expiration of the token
            . Multi Part Upload
                .. Things can go wrong when uploading a file ( Internet has no guarantee )
                .. File is split into smaller files, and reconstituted later , in S3 side.
                .. 
            . Range GET
            . Cross Regional Replication
                .. Supose we need more availability and durability.
                .. We can replicate data into other regions.
                .. Reduced inter-regional transfer costs.

    Instance Storage
        . When you set up your systems, the compute instances are nothing more than virtual machines
        . Underlying-ly, these machines are like 128 cpus, couple terabytes, attached with some nvme drives in a raid config, capable of around 10M IOPS. 
        . Instance storage is around 100 to a 1000 times faster than the fasts EBS file, however, the EBS storage survives a reboot. 
        . Super high performance.                  

    EBS
        . Type of storage , takes your data and breaks it down into blocks
        . Acts , look and feel like a virtual hard drive.
        . Doesn't go away with a reboot. 
        . EBS volumes scales to whatever size needed. 
        . 5 minutes of downtime per year. 
        . EBS is designed for high transactional workload


                                     Snapshot 1
        Amazon EC2 ->   EBS     -< 
                                     Snapshot 2
        . Snapshots are 100% copies of the harddrive. This means that , compared to traditional tape backups, which would require a OS before being able to recover, snapshots can just go.
        . Picking a volume type
            .. Latency
                ... how long ( ns ) to pull or store data from the hard drives.  It is determined by the number of operations you can do per second. Higher Ops == Lower Latency. 
                ... Fastest volume is 64k IOPS from aws. A $100 dollar HD  from best buy has 1M IOPS
            .. Throughput
                ... How much stuff you can move. 
            
            .. Best You can get is EBS provisioned IOPS
                ... Good for databases
                ... Throughput is around 1000 mbit ( network bottlenecked )
                ... Highest Trouput, lowest latencies
            .. GP2
                ... Great for Boot Volumes ( Persistent )
                ... good balance of price and performance
                ... use Generic SSD ( Not NVME )
                ... High IOPS ( low latency ) , albeit worse than the provisioned IOPS.
                ... Very mediocre throughput ( around 200 mbit ) // a $100 SDD has 560 mbit ; HDD has 180 ; 
                ... Good boot volumes, Dev / Test Environments, Price performance volume. 
            .. Throughput Optimized drives ( ST1 )
                ... Lots of data, don't     worry about latency
                ... Magnetic storage, in a raid array. 
                ... 500 mbit / s ( standard ssd speeds )
                ... Good fort throughput intensive, frequently accessesd workloads 
                ... Huge Log Files, Huge sequential read / writes. 
            .. EBS ( SC1 )
                ... Lowest Cost, Lowest performance

    Raid
        . Redundant Array of Inexpensive Disks
        . Improve disk size and performance in the most cost-effective way
        . Take 10-20 drive, but the PC looks at it as only one
        . Improves size , performance and redundancy of storage

        . Raid- 0 
            .. Best for disk performance ( striped writes)
            .. VERY fast
            .. Low fault tolerance 
            .. If you're using RAID-0, your disks WILL go down, just a matter of when. you need BACKUP.
            .. BACKUP BACKUP BACKUP
            .. Some flavor of RAID-0 is the only way to get acceptable performance on the cloud
                ... 64k IOPS is the maximum you can get in a ebs volume, vs 1M of a off-the-shelf disk
                ... If you need 1M IOPS from EBS, you need to pack 15 of these dirves together
            .. Too risky. Hard drive for video game computers ; Video Editing ; 
        . Raid-1
            .. Best for redundancy ( Mirroring )
            .. Real time backup 
            .. very slow. expensive ,   doesn't increase capacity, performance isn't great
        . Raid-5
            .. Balance of speed and redundancy
            .. Each One of the drives reserves some capacity to parity
            .. Not very common on the cloud,  because it adds latency ( and 64k IOPS is already low enough. )
            .. Very good on-prem
        . Raid-10
            .. Basically only opiton in the cloud to get the necessary IOPS. 
            .. Very expensive, since you need double the number of drives
    
    EFS
        . Linux and WIndows uses different file sharing protocols
        . Linux uses Network File Systems
        . EFS is NFS managed by AWS
        . POSIX compatible storage
        . Has Standard and infrequent storage
        . Scales on demand
        . For windows, use Linux with Samba Share
        . AWS has maanged SMB servers. the name is EFX
    
        . Set up a storage gateway ( a virtual machine ) , put in the data center. It copies stuff to the cloud.

    Storage Gateway 
        . A virtual machine, which you put in the data center.
        . Transfers data to AWS
        . Mount the rest of the data center drives via NFS / SMB.
        . Copies to S3 ( EBS Snapshot).
        . Volume Stored Mode
            .. Assumes 90% of your data is in your data center 
            .. ISCSI
        . Volume Cached Mode
            .. When most of your data is in the cloud
            .. makes s3 look and feel like local storage
            .. Basically a caching environment and Content Delivery System
            .. Does bidirectional 
        . Tape Gateway 
            .. Connects to the tape via iscsi

    Snowball
        . When a lot of data is needed to be  migrated , or when you have low amounts of time.
        . Highly ruggatized container filled with lots of hard drives. ( Comes in 40 or 80 tb )
    Snowmobile
        . Basically a shipping container full of hard drives

    AWS Import / Export service
        . Mini-Snowball
        . Copy to the harddrive, and ship it to aws.

    EC2
        . Virtual Machine
        . Primary compute engine on the AWS Platform
        . You can create your own or use prebuilt ( AMI's )
            .. An AMI is a file that contains the necessary data to launch a virtual machine.
            .. Can create one, use a prebuilt one, or buy one.
            .. If you need something better than WAF, you can to buy one ( marketplace )
            .. Can copy them cross region
            .. Can use it to do DR
        . You can create a bootstrap script  ( shell )
        . Choosing Instances
            .. On Demand
                ... Unknown Capacity
                ... Auto-Scaling

            .. Reserved Instance
                ... Known Capacity
                ... Foreseeable future
                ... Scheduled Reserved
                    :> Bactch COmpute
                    :> Cron Jobs
            .. Spot Instance
                ... Auction-Like
                ... Shuts down impredictably
                ... Non-Mission critical
        . Dedicated Host
            .. Basically, a dedicated server. Can manage your own hypervisor;
            .. If you have a license that needs to be attached to a certain host;
            .. very expensive, but fine grain control.
            .. Basically bare-metal.

        . Shared Tenancy
            .. Lots of people using the same underlying host.
        . Dedicated Instance
            .. Basically, a dedicated Hypervisor. You don't manage your own hypervisor. You just create / manage your own ec2 instances.

        . Securing EC2 access
            .. Firewall
            .. IDS
            .. IPS
            .. DDOS protection
            .. ACL on routers 
            .. Host based firewalls ( Security Groups )

            .. Security Group
                ... A security group is stateful! ( Pays attention to the connection, allows the response back. This means you only need to apply the security list one way.)
            .. Can Have multiple  multiple network interfaces
                ... Each network interface needs to be in a different subnet
                ... When a ec2 instance goes up, it gets an ec2-dns name ( which is private. ). to go online, it needs a public address.
        . Manage Machines
            .. EC2 console
            .. SSH / RDP
            .. SDK API

        . Speaking to executives, don't use abbreviations.

    Databases
        . Relational Databases
            .. Help a organization find the relationship between variables
            .. What do prices do to sales
            .. Most common form of databases 
            .. Schema on write 
            .. Acid
            .. Aurora, Mysql, Postgres, MariaDB, OracleDB, SQL Server
            .. Can use  the included license or the Bring Your Own License

        . NoSql Databases
            .. Scale
            .. Schema on read
            .. DynamoDB ( is compatible with cassandra ) , CloudBigTable , Cassandra, MongoDB
                ... DynamoDB auto-scale doesn't scale down ( can do it manually).
                ... Need to provision your read and write capacity


        . DataWarehouses 
            .. Large amounts of historical data
            .. Incredible Amounts of information -> Mine it -> Better decisions
            .. RedShift
            .. Can buy storage nodes or dense compute node
        
        . DataLake
            .. A repository that enables  
            
        . Backing up
            .. By default , the entire database is automatically backed up in a EBS volume.
            .. Happens in a predefined schedule every time
            .. Consume resources, and degrades performance while its being done
            .. How to restore it? 
                ... Launch a new instance out of your AMI snapshot image.
            .. Encrypting the backup is a necessity. 
                ... Can Use KMS to manage the keys
                ... Can also use Cloud HSM
            .. Encryption in transit
                ... Encrypt the transit in its way to the destination. 
                ... TLS during the database connection.
        . High-Availability
            .. Databases are different from traditional applications, because they are stateful. 
            .. Its also mission critical. 
            .. Its easy to scale up. However, its not always possible. Then you need to scale out. 
            .. When working with no-sql databases, its easier to scale out, since its possible to partition the data. 
            .. Different process for relation databases. They are scaled out in a unique manner. 
            .. Reducing Read Load
                ... Read Replica: Read-Only identical copy. Any read operation is redirected to this read replica. 
                ... Usually, can add up to 4 ( aws ). Can use nested read replica in these cases.
                ... We can also implement a caching system to lower the read load, both on master and replica ( ElastiCache )
                ... Redis
            .. Reducing Write Load
                ... Introduce Queues to smooth it out ( SQS , via FIFO | Standard )
            .. In the cloud , 99.9% with 1 AZ, 99.99% with 2 AZ
            .. Always, 2 AZ at minimum. For more availability, need more Az and more regions
            .. 
        . ETL
            .. Needed to exchange data between the various storages 
            .. AWS Glue
                ...
    VPC
        . Virtual Private Data Center
        . Routing Tables
            .. Router determine the path to get through your networks
            .. How? They build a map. 
            .. Router move packets at Layer 3
            .. Summary Route vs Specific Routes vs Default Route
                ... Routers always take the most specific route.
            .. Normal for big corps to have 20 to 30k subnets
            .. Routing Protocols
                ... IGP ( Interior Gateway Protocol )
                    :> Used inside your  organization to get the shortest route.
                    :>  OSPF | Intermediate System to Intermediate System | IGRP  ( Cisco )
                ... EGP ( Exterior Gateway Protocol )
                    :> Connect to others organizations
                    :> eBGP . Why? Its the most scalable and customizable. BGP needs Autonomous System Number
                    :> Works through port 179 via TCP
                    :> apply for an ASN to work with.
                    :> Dynamic Routing Protocol
                    :> Required for Direct Connect, optional for VPN.
                ... For routing there is 2 ways, static and Dynamic.
                    :> Static Routing does not heals itself
                    :> BGP can be very dangerous especially when considering its interactions with no-exports and out-filters
                    :> BGP has a decision process
                    :> AWS's BGP is pretty weak.
                ... 
            .. 
            .







        . Internet Gateway
            .. Internet Access
                ... Out in the internet and letting the response go back
                ... Fully reachable. 
            .. Enables 'True' Internet Access.
            .. Gateway is Interchangeable with 'Router'
            .. *FULLY* exposed to the internet , which means, Hackable
            .. Create and attach an gateway to the VPC. Create a default route, which routes all unknown traffic to the internet gateway

        . Egress only Internet gateway
            .. Ingress : Comes in; Egress : Comes out.
            .. Designed for ipv6,  ( the version for ipv4 is called NAT gateway  )
            .. Means only responses can come back
            .. 

        . Nat INstance and Nat gateway
            .. Translates an address to another address.
            .. Use cases are internet gateways or overlapping IP addresses for two companies 
            .. A nat instance is just a ec2 instance running NAT software
            .. Usually, its recommended to use NAT gateway instead of running a nat instance ( managed solution )
            .. Usually, you would need redundant devices, and nat gateways are HA in a single AZ.
            .. Still, need a NAT gateway at each AZ.
        . Network Interfaces and IP addresses
            .. Every network interface in a device needs to be in a different subnet
            
            .. Dual Homing or Multi - Home ( put a server in multiple subnets )
            .. Bastion Hosts ( Not recommended )
            .. An elastic IP address is a borrowed address from aws. 


        . VPC Endpoints
            .. An endpoint is a way to connect from a service to another service within
            .. Improves performance, Improves security, Improves Costs.
            .. Going out of aws is bad: You pay fees, and internet performance is low performance and low availability.
            .. Its a highly available virtual device.
            .. There is a gateway endpoint and interface endpoints
            .. Gateway Endpoints
                ... High speed access to a AWS service ( S3). 
                ... Adds a route to the routing table.
                ... prefix list ( pl-xxxxxx )
                ... since its a route, it can be pushed to the data center
                ... Limit the Endpoint using Endpoint Policy
            .. Interface Endpoints
                ... Enables connection to other aws services ( ec2 system manager, kinesis, load balancer apis )
                ... Can also be used by external services hosted by aws partners or customers on their own vpc
                ... Great to connect to other organizations in a secure manner. 
                ... Look and feels like local VPC
                ... It creates a Elastic Network Interface  , along with a route, and a dns specific name, and a Private link
                ... 
                ... Private Link is similar, but different to VPC peering. 
                    :> Usually more elegant, and more secure
                    :> uni-directional traffic
                    :> VPC peering does FULL CONNECTIVITY, private link is 'picky'.
                    :> Scales way better in regards to the service.
                    :> Private link uses NAT, since organizations very often have overlapping IP addresses. 
                ... Shared Services VPC
                    :> A shared service uses a Network Load Balancer and AWS PrivateLink to Provide endpoint services into spoke VPCS
                    :> 


        . VPC Peering
            .. A way to connect your system to another organizations
            .. Run BGP between them to propagate routes
            .. Non-Transitive Connections
                ... Lot of work to make everyone talk to each other.
                ... Fully-Meshed ( instead of hub and spoke ) -> Best performance, but a disaster in the scalability space ( n ( n - 1 ) / 2 ).
                ... AWS stablishes a limitation of 125 peering connections.
            .. Communication uses the private IP space
                ... 
            .. Traffic is Encrypted
        . Cloud Hub
            .. Enables to break non-transitivity rules of vpc peering
            .. routing information is passed to every connect vpc, configuring a hub and spoke model
            .. Transit Gateway looks like cloud hub
        . Security
            .. Keep traffic out with a firewall
            .. DDOS protection
            .. 
        . ACL
            .. How to protect your subnets after your firewall, ids, ddos protection? Access lists
            .. Network ACL keeps traffic out of a subnet. A security group keeps a traffic out of a host.
            .. ACL always have a implicit deny all -> only need to configure the allows
            .. Stateless -> needs to configure both traffic directions ( request and response )
            .. ACLS are Tricky because the order matters 
                ... Give youself a lot of room ( rule numbers )
        . Security Groups 
            .. Stateful firewalls
            .. Only allows 'Allow' rules.
            .. 
        . When having data coming in and out, we might want to have a look at what your traffic looks like
            .. VPC FlowLog ( same as CISCO netFlow)
        . Example system:
            .. WAF > IDS / IPS > DDOS > Network ACL > Security Group
            .. security providers: Cisco, Checkpoint, PaloAlto, Fortnet
        Performance and Optimizations:
        . Placement Group    
            .. Put instances physically closer together
            .. Logical groups of computers  in a single AZ -> Reduced Latency , Higher Throughput
            .. Reduces Availability! 
            .. Cluster
                ... Lowest Latency offer in the cloud.
                ... Same rack, often same server.
                ... 
            .. Partitioned
                ... Multiple racks , but in the same data center
                ... Better redundancy
            .. Spread 
                ... Instances are spread across AZ 
        . SR-IOV 
            .. Virtualization can cost upwards of 30% performance
            .. Passes a physical card to your Virtual Machine
            .. PCI-Passthrough 
        . Virtual Fabric Adaptor
            .. Better network performance

        . Route 53
            .. Uses AnyCast
                ... Every Device in the internet needs to have a unique IP address.
                ... AnyCast violates de rules. Multiple hosts answers the same IP address.
            .. Records
                ... A ( IPV4 ) ,  AAAA ( IPV6 ) maps an domain to a IP Address.
                ... CNAME maps an domain to another domain.
                ... NS identify the DNS server that is gonna be responsible for your domain.
                ... MX necessary to send / receive e-mail.
                ... SOA primary name server for the domain. 
            .. Enables HealthCheck
            .. Also Acts as a registrar.
            .. Uses privacy protection
            .. Up to 150 top level domains
            .. Hosted zone is just a DNS zone file.
                ... Just a collection of records that can be managed together, belonging to a single top level domain
            .. Policies
                ... Simple Routing
                ... Weighted 
                    :> A percentage of the traffic to a location, and another percentage to another location.
                ... Latency-Based
                    :> Determines the client latency to each server, and routes to the lowest one.

                ... FailOver
                ... GeoLocation
                ... MultiValueAnswer
                    ... Basically, simple routing, but uses health checks.
                ... GeoProximity
            .. Resolver
                ... Route53 for on-prem

        . Load Balancer
            .. Distributes network and application traffic
            .. Improves availability and performance
                ... sends traffic accross multiple systems, removing SPOF
            .. Network ( Layer 4 )
                ... Fast! 
                ... By default, sticky
            .. Application ( Layer 7)
                ... Smart!
                ... By default, routes to lowest load.
            .. AutoScales themselves
                ... 
            .. Health Checks

            .. SSL Termination
                .. Removes Encryption load from the application
                ... Stateful
                ... Great for rapid changing patterns
            .. Load Balancer Sandwiches
                ... If you need greater functionality, such as F5, you can go to marketplace. However, not managed.
                ... Can connect a load balancer to another loadbalancer.
Security

    . IAM
        .. Identity Access Management.
        .. Authentication, Authorization, and Accountability

        .. Users
            ... Is a person, who will receive access to specific resources.
        .. Principal
            ... An IAM entity who has access
        .. Root
            ... The main user created with the account
        .. Group
            ... Means to create a policy for a certain set of people.
        .. Roles
            ... Almost always, is a system ( service account ).
            ... Can be assumed by others systems and persons
            ... Short term credentials
            ... Can be Cross-Account / Federated.
                :> Be the most granular possible.

        .. Tokens
            ... Temporary. from 6 minutes to 36 hours
            ... Longer duration means better performance, but lower security.
            ...  

        .. Single Sign On
            ... Auth to multiple places using a single set of credentials

        .. Cognito
            ... Synchronize Identity management
            ... Can use Facebook or google, etc
            ... Can use with guest accounts as well
            ... Use Logs into Identity provider, which returns a Session Key. Application sends a getId, and cognitio validates it. If irs valid, cognito returns a unique identifier. Sending it , it will be validated against the ;

        .. AWS Directory Service ( Managed AD. )

        .. Authentication
            ... User name and Password
            ... Access Key ( usually via API )
            ... Access Key + Session Token
        .. Authorization
            ... Policies ( User, Groups , Roles )
                :> THey have an implicit deny. 
                :> What is the best way to do it? 
                :> AWS has some good managed policies
                    ::> Provides some 'pre-set' common use cases.
                :> Can create your own policies
                    ::> Copy and tune a pre-existing
                    ::> Policy Generator
                    ::>  



    . Multi Account Strategies
        .. How to minimize blast radius?
        .. Breaks environment in many smaller accounts
        .. Organizations / Organizational units
            ... Service Control Policies
                :>  

    . Who is responsible for what?
        .. AWS is responsible for the cloud, you're responsible for your vpc.
    . Principle of least security.
    . Service Catalog
        .. Deploy approved services
        .. 
    . System Manager Parameter Store
        .. When we have lots of passwords
        .. Completely Managed
        .. Use it alongside KMS



    . Fiewall -> IDS Ips -> DDOS -> NaCL -> Security Groups, HBF , Malware Protection, Hardening  -> Iam  , Route Hiding -> Encryption ->  


SQS
    . Simple Queueing Service
    . Decouple Application Architectures
    . Transient Place to Put Messages
        .. Can be placed there from 4 to 14 days
    . Helps Right-Sizing
        .. Smooths out peak loads
    . At least once delivery
    . StandardQueue
        .. No ordering guaranteed
    . FifoQueue
        .. Ordering Garantees
    . Can trigger auto-scaling, via queue depth.
        .. CPU load is just a proxy.
        .. Reduces write load


SNS
    . Simple Notification Service
    . Sends messages between systems
    . HA Pub-Sub
    . Can be used to fan-out messages ( deliver to multiple locations )
    . Can create filter policies
    . Use Cases
        .. CPU hits a load
        .. Predefined event occurs
        .. Mobile notifications ( push )

SWF
    . Simple Workflow
    . Multi Step Process
    . Example:
        .. Video is uploaded
        .. Video is process to an optimized format
        .. Then Transcribed
        .. then subtitiles are added
        .. Then stored
        .. Then video is ready for download and the user gets a notification.

EMR
    . Elastic Map Reduce
    . Say you have a lot of information
        .. ( Analyze and make better decisions )
    . Managed Cluster, part of your big data framework
    . Built on top of hive, hbase, spark


Kinesis
    . Real Time Analysis
    . Video, Audio, Internet log, ClickStream, IoT
    . Pay for the amount of throughput.
    . Video Stream
        .. Collect video from multiple sources
        .. Ingest and store and send to media process ( converting , captchioning , ML analysis)
    . Data Streams
        .. Higly Scalable platform to analyze huge amounts of data
        .. 70 ms
        .. Can capture Gb of data from various sources
        .. Location Tracking, Financial Transactions
        .. Data Consumer
            ... Receives data from the shards

        .. Data Producer
            ... Sends Data to the stream
            ... Weather Sensors
            ... Assigned a key, which determines the destination shard
        .. Logical Grouping of shards
            ... A shard is a basic throughput unit
    . Data FireHose
        .. Managed service, Similar to streams
        .. Streams your data into storage ( S3, redshift , )
         

    . Data Analytics
        .. Real Time  Analytics
        .. Apache Flink   

ECS
    . Elastic Container Service
    . Deployed inside your vpc 
        .. Can be used alongside eSecurity Group and Network ACL

    . Fargate

EKS
    . Elastic Kubernetes Service
    . Managed Service
    


BeanStalk
    . 

CloudWatch
    . Monitoring , Metrics, Logging
    . Inbuilt: CPU, Disk I/O , network utilization 
    . if want more: Custom Metric.
    . Kinda low granularity ( 5 min ). Can pay more for detailed monitoring.
    . Events
        .. Alerting System
        .. Rules triggers actions
        .. 

CloudTrail
    . Auditing

Config
    . Also auditing
    . Track Changes
        .. Check if it agrees with the organiaztion policies.

CloudFront
    . CDN
        .. Improves efficiency and internet performance
        .. Has Edge Locations throughout the world

Lambda
StepFunction
Recognition
ACM


GuardDuty
    .. Analyzes cloudtrail, dns logs, vpc flow logs,
    .. Sends cloudwatch events , when sees something it doesn't like

Amazon Inspector
    .. Automated Security Service
    .. Automatically inspects applications 



internet routing architectures
server virtualization
storage
ids ips systems 
load balancers
networkings
    dns, bgp, routers, switches, vpn concentrations

business acumen
    capital expenses
    operational expenses
    Return of investment
    Opportunity cost

Soft Skills
    Empathy
    Emotional Intelligence
    How to communicate


https://training.gocloudarchitects.com/courses/cloud-architect-experience-program

https://www.youtube.com/watch?v=ujPJuF_GZso&list=PL0azhNeBK66KSDh_CkEZldot8wq912TFV
https://www.youtube.com/watch?v=-ROt92cKX5c&list=PL0azhNeBK66KNs2TO3D57agMkjG9Vj_qc
https://www.youtube.com/watch?v=uhvyThRqwVo&list=PL0azhNeBK66LPVPS-fz2-VOK8Re7qKqkU
https://www.youtube.com/watch?v=Kkq0j9l_flQ&list=PL0azhNeBK66JCgFKbvsJpE4nMkwD1rnsb
https://www.youtube.com/watch?v=gXca5faMp0o&list=PL0azhNeBK66LMfLE995Bi5-1IMZ524n2f


https://www.amazon.com/Enterprise-ENCOR-350-401-Official-Guide/dp/1587145235/ref=sr_1_3?crid=3ARNFDY2VCDW4&dchild=1&keywords=ccnp+enterprise&qid=1623776612&sprefix=CCNP+enter%2Caps%2C156&sr=8-3


CISP
Certified Ethical Hacking
Advanced Offensive Professional


https://www.gocloudarchitects.com/free-cloud-webinar/
https://www.gocloudarchitects.com/cloud-architect-experience-program/
